import streamlit as st

# 페이지 설정
st.set_page_config(
    page_title="🚨 쫄깃쩔깃돌멩이님의 스마트 응급 처치 가이드", # 타이틀에 이모티콘 추가
    layout="wide",
    initial_sidebar_state="expanded"
)

# --- 응급 처치 정보 데이터 (업데이트 - 각 항목에 이모티콘 추가) ---
first_aid_data = {
    "찰과상": {
        "emoji": "🩹", # 새로운 필드: 이모티콘
        "제목": "찰과상 (긁힌 상처) 응급 처치",
        "설명": "피부 표면이 긁히거나 벗겨진 상처입니다. 대부분 경미하지만, **감염 예방**이 중요합니다.",
        "처치법": """
        1.  **흐르는 물로 세척💧**: 깨끗한 흐르는 물과 비누로 상처 부위를 부드럽게 씻어냅니다. 흙이나 이물질이 있다면 완전히 제거해야 합니다.
        2.  **지혈 압박🩸**: 소독된 거즈나 깨끗한 천으로 상처 부위를 가볍게 압박하여 출혈을 멈춥니다.
        3.  **소독 및 연고 바르기🧴**: 소독약을 바르거나 항생제 연고를 얇게 바릅s니다. 알레르기 반응에 주의하세요.
        4.  **상처 덮기🩹**: 감염을 막기 위해 멸균 거즈나 밴드로 상처를 덮어줍니다. 통풍이 잘 되게 해주고, 너무 세게 조이지 않도록 합니다.
        5.  **🚨 의료기관 방문**: 상처가 깊거나 오염이 심한 경우, 출혈이 멈추지 않거나 **감염 징후(부어오름, 통증, 고름 등)가 보이면 즉시 의료기관을 방문**해야 합니다.
        """,
        "키워드": ["긁힘", "벗겨짐", "피부 상처", "쓸림", "찰과상"]
    },
    "화상": {
        "emoji": "🔥",
        "제목": "화상 응급 처치",
        "설명": "뜨거운 물, 불, 전기, 화학 물질 등으로 인해 피부 조직이 손상된 상태입니다. 화상 정도에 따라 처치법이 달라지며, **신속한 초기 대응이 생명**을 좌우합니다.",
        "처치법": """
        1.  **⚡️ 즉시 냉각 (최소 15-20분)**: 화상 부위를 즉시 **찬물(미지근한 정도의 차가운 물)에 15-20분 정도 담그거나 흐르는 물로 식혀줍니다**. ❌ **얼음은 절대 사용하지 마세요.** 동상을 유발할 수 있습니다.
        2.  **장신구 제거💍**: 물집이 생기기 전이나 붓기 전에 화상 부위의 옷이나 반지, 시계 등 장신구를 조심스럽게 제거합니다. 옷이 피부에 붙었다면 억지로 떼어내지 마세요.
        3.  **🚫 물집 터뜨리지 않기**: 물집은 감염을 막아주는 보호막입니다. 절대로 터뜨리지 마세요.
        4.  **깨끗한 거즈로 덮기**: 화상 부위를 깨끗하고 소독된 거즈나 천으로 느슨하게 덮어줍니다. 연고나 다른 물질을 바르지 마세요.
        5.  **🚨 즉시 병원 방문**: 화상 부위가 넓거나 깊은 경우(2도 이상), 얼굴, 손, 발, 생식기 등 중요 부위에 화상을 입었을 경우 **지체 없이 병원(화상 전문 병원 또는 응급실)으로 가야 합니다**. 특히 전기 화상은 인대, 근육 손상이 동반될 수 있으므로 반드시 의료기관의 진찰을 받아야 합니다.
        """,
        "키워드": ["뜨거움", "불", "뜨거운 물", "전기", "열", "화상", "물집"]
    },
    "베인 상처": {
        "emoji": "🔪",
        "제목": "베인 상처 (열상) 응급 처치",
        "설명": "날카로운 물체에 의해 피부나 조직이 깊게 손상된 상처입니다. **출혈이 심할 수 있으며 감염 위험이 높습니다.**",
        "처치법": """
        1.  **🩸 출혈 확인 및 지혈**: 상처 부위에 직접 깨끗한 거즈나 천을 대고 **강하게 압박하여 지혈**합니다. 상처 부위를 심장보다 높게 들어 올리면 도움이 됩니다.
        2.  **상처 세척💧**: 출혈이 멈추면 깨끗한 흐르는 물이나 생리식염수로 상처 부위를 부드럽게 세척합니다. 이물질이 있다면 조심스럽게 제거합니다.
        3.  **소독 및 연고**: 상처 주위를 소독하고, 필요에 따라 항생제 연고를 바릅니다.
        4.  **상처 덮기**: 멸균 거즈나 밴드로 상처를 덮어 감염을 예방합니다.
        5.  **🚨 의료기관 방문**: **출혈이 심하거나, 상처가 깊어서 봉합이 필요한 경우**, 이물질이 깊이 박힌 경우, 오염이 심한 경우(예: 녹슨 것에 베인 경우 파상풍 위험), 감염 징후가 보이는 경우 **즉시 병원에 방문**하여 의사의 진찰을 받아야 합니다.
        """,
        "키워드": ["칼", "깊은 상처", "피", "찢어짐", "베임", "출혈"]
    },
    "골절": {
        "emoji": "🦴",
        "제목": "골절 응급 처치",
        "설명": "뼈가 부러지거나 금이 간 상태입니다. **극심한 통증과 함께 변형, 부종, 출혈 등이 동반**될 수 있으며, 환자를 함부로 움직이면 더 큰 손상으로 이어질 수 있습니다.",
        "처치법": """
        1.  **⚠️ 절대 움직이지 않게 하기**: 골절이 의심되는 부위를 **절대로 함부로 움직이거나 건드리지 않습니다.** 부목이나 단단한 물건으로 지지하여 환부를 고정시키는 것이 중요합니다.
        2.  **출혈 관리🩸**: 외출혈이 있다면 깨끗한 거즈나 천으로 직접 압박하여 지혈합니다.
        3.  **냉찜질🧊**: 통증과 부종을 완화하기 위해 부러진 부위에 얼음 주머니를 대줍니다. (얼음이 피부에 직접 닿지 않도록 천으로 감싸주세요.)
        4.  **🚑 즉시 의료기관으로 이송**: 가능한 한 빨리 의료기관으로 이송해야 합니다. **119 구급차를 부르거나**, 환자를 안전하게 고정시킨 상태로 이송해야 합니다. 환자를 옮길 때에는 부러진 뼈끝이 신경이나 혈관, 근육을 손상시키거나 피부를 뚫지 않도록 **극도로 주의**합니다.
        """,
        "키워드": ["뼈", "부러짐", "금", "골절", "다리", "팔", "통증", "삐었다", "부음", "변형"]
    },
    "심장마비": {
        "emoji": "❤️",
        "제목": "심장마비 (심정지) 응급 처치 및 심폐소생술 (CPR)",
        "설명": "**심장이 멈춰 혈액순환이 안 되는 위급한 상황**입니다. 뇌 손상이 빠르게 진행될 수 있으므로, **즉각적인 심폐소생술(CPR)이 생명을 살리는 데 결정적인 역할**을 합니다.",
        "처치법": """
        1.  **🗣️ 반응 확인 및 119 신고**: 환자의 어깨를 두드리며 "괜찮으세요?" 하고 물어보고 **반응이 없으면, 즉시 119에 신고**하거나 주변 사람에게 신고를 요청합니다. 주변에 자동심장충격기(AED)가 있다면 가져다 줄 것을 요청합니다.
        2.  **기도 개방 및 호흡 확인🌬️**: 머리를 뒤로 젖히고 턱을 들어 올려 기도를 개방한 후, 환자의 가슴과 배를 보며 10초 이내로 호흡이 있는지 확인합니다. **의식 및 호흡이 없다면 심장마비**를 의심해야 합니다.
        3.  **💪 강하고 빠르게 가슴 압박 (CPR)**: 환자의 가슴 중앙 흉골의 아래 1/2 지점에 손바닥을 대고, 양팔을 쭉 편 상태에서 체중을 실어 환자의 몸과 수직이 되도록 **5~6cm 깊이로 강하고 빠르게(분당 100~120회 속도) 30회 압박**합니다.
        4.  **인공 호흡 (선택 사항) miệng**: 가슴 압박 30회 후 인공 호흡 2회를 실시합니다. 코를 막고 환자의 입에 구조자의 입을 완전히 밀착하여 약 1초 동안 숨을 불어넣습니다. **인공호흡이 어렵다면 가슴 압박만 지속적으로 시행해도 됩니다.**
        5.  **🔁 119 도착까지 반복**: 30회 가슴 압박과 2회 인공 호흡을 반복하거나, 119 구급대원이 현장에 도착할 때까지 또는 환자가 회복될 때까지 지속합니다.
        6.  **AED 사용**: 자동심장충격기(AED)가 준비되면 기계의 지시에 따라 적용하고 사용합니다.
        """,
        "키워드": ["심장", "호흡", "의식 없음", "쓰러짐", "CPR", "심정지", "쇼크", "가슴 압박", "쓰러졌다"]
    },
    "코피": {
        "emoji": "👃",
        "제목": "코피 응급 처치",
        "설명": "코 안의 혈관이 터지면서 피가 나는 증상입니다. 대부분은 스스로 멈추지만, **올바른 지혈법을 알아두는 것이 중요**합니다.",
        "처치법": """
        1.  **머리 숙이기⤵️**: **고개를 뒤로 젖히면 피가 기도로 넘어가거나 삼켜서 구토를 유발할 수 있으므로, 앞으로 살짝 숙여** 피가 자연스럽게 흘러내리도록 합니다.
        2.  **콧잔등 압박☝️**: 콧등의 단단한 뼈 아랫부분, 즉 콧방울의 말랑한 부분을 엄지와 검지로 **지긋이 약 10분 정도 눌러줍니다.**
        3.  **얼음찜질🧊**: 콧잔등이나 코 주변에 얼음주머니를 대면 혈관을 수축시켜 지혈에 도움을 줄 수 있습니다.
        4.  **휴식🧘**: 지혈 후에는 코를 만지거나 풀지 않고 잠시 휴식을 취합니다.
        5.  **🚨 의료기관 방문**: **30분 이상 코피가 멈추지 않거나, 코피가 너무 자주 나고 양이 많을 경우**, 또는 다른 질환(고혈압 등)과 관련되어 의심될 경우 병원을 방문해야 합니다.
        """,
        "키워드": ["코피", "코", "출혈", "코 막힘", "피", "코피 남"]
    },
    "일사병": {
        "emoji": "☀️",
        "제목": "일사병 응급 처치",
        "설명": "더운 환경에서 장시간 활동하여 발생하는 열 손상 중 가장 흔한 형태입니다. 두통, 어지럼증, 메스꺼움, 무기력감 등의 증상을 보이며, **체온은 정상이거나 약간 오릅니다.**",
        "처치법": """
        1.  **시원한 장소로 이동⛱️**: 환자를 즉시 **시원한 그늘이나 에어컨이 있는 실내로 옮깁니다.**
        2.  **옷 느슨하게 하기**: 환자의 옷을 느슨하게 풀어주거나 벗겨서 체온을 낮추기 쉽게 합니다.
        3.  **체온 냉각💧**: 부채질을 해주거나 찬 물수건으로 몸을 닦아주어 체온을 낮춥니다.
        4.  **수분 보충🥤**: **의식이 있는 환자에게는** 이온음료나 물을 마시게 하여 수분을 보충합니다. ❌ **의식이 없다면 입으로 아무것도 주지 않아야 합니다.**
        5.  **🚨 병원 방문**: 시원한 곳에서 안정을 취한 후에도 증상이 호전되지 않거나, 의식이 없는 경우, 또는 **열사병이 의심되는 경우(피부가 뜨겁고 건조하며 의식 변화가 심한 경우) 즉시 의료기관을 방문**해야 합니다.
        """,
        "키워드": ["더위", "열", "어지러움", "두통", "무기력감", "일사병", "열피로", "열실신", "여름"]
    },
    "열사병": {
        "emoji": "🌡️",
        "제목": "열사병 응급 처치 (🚨 생명 위독 상태)",
        "설명": "**고온 다습한 환경에서 몸의 열을 제대로 배출하지 못해 체온이 40℃ 이상으로 오르고 의식 장애가 동반되는 매우 위험한 상태**입니다. 피부가 뜨겁고 건조하며 땀이 나지 않을 수 있습니다. **즉시 조치하지 않으면 사망에 이를 수 있습니다.**",
        "처치법": """
        1.  **🚨🚨 즉시 119 신고**: 열사병은 **생명이 위독한 응급 상황**이므로, 지체 없이 **119에 신고**하고 의료진의 도움을 기다립니다.
        2.  **시원한 장소로 이동⛱️**: 환자를 **시원하고 그늘진 곳으로 옮기고**, 몸을 꽉 조이는 옷을 느슨하게 풀어주거나 벗깁니다.
        3.  **💧 체온 신속 냉각**: 몸에 물을 뿌리거나 젖은 수건으로 감싸고 강하게 부채질하여 체온을 급격히 떨어뜨립니다. **겨드랑이, 사타구니, 목 등 혈관이 지나는 곳에 얼음팩을 대주는 것도 효과적**입니다.
        4.  **🚫 아무것도 먹이지 않기**: **의식이 없는 환자에게는 물을 포함하여 아무것도 먹여서는 안 됩니다.**
        """,
        "키워드": ["더위", "고열", "땀 없음", "의식 혼미", "쓰러짐", "뇌 손상", "열사병", "체온", "뜨거운 피부", "위험", "탈진"]
    },
    "냉방병": {
        "emoji": "❄️",
        "제목": "냉방병 응급 처치 및 예방",
        "설명": "에어컨 사용으로 인한 실내외 온도차, 환기 부족 등으로 발생하는 두통, 콧물, 재채기, 오한, 근육통, 소화 불량 등의 증상입니다.",
        "처치법": """
        1.  **온도 조절🌡️**: 실내 온도를 **22~26°C**로 유지하여 실내외 온도 차이를 **5~8°C 내외**로 조절합니다.
        2.  **충분한 환기💨**: **2~4시간마다 15분 이상 창문을 열어 신선한 공기**로 환기시켜 주세요.
        3.  **따뜻하게 옷 입기🧥**: 에어컨 바람이 직접 몸에 닿지 않도록 얇은 긴팔 옷이나 가벼운 담요 등을 준비하여 체온 유지를 돕습니다.
        4.  **따뜻한 물 마시기☕**: 수분 섭취를 충분히 해주세요. 차가운 물보다는 미지근하거나 따뜻한 물이 좋습니다.
        5.  **가벼운 스트레칭🧘**: 굳어진 근육을 풀어주기 위해 가벼운 스트레칭이나 산책을 하는 것이 좋습니다.
        6.  **에어컨 청결 유지🧹**: 에어컨 필터를 **최소 2주에 한 번 청소**하여 세균 번식을 막습니다.
        """,
        "키워드": ["에어컨", "추움", "감기", "두통", "콧물", "오한", "냉방병", "기침", "소화불량", "목 아픔"]
    },
    "과호흡": {
        "emoji": "🌬️",
        "제목": "과호흡 증후군 응급 처치",
        "설명": "불안, 스트레스 등으로 인해 호흡이 비정상적으로 빨라지고 깊어져 혈액 내 이산화탄소 농도가 지나치게 낮아지는 상태입니다. 어지럼증, 손발 저림, 가슴 답답함, 심하면 실신까지 발생할 수 있습니다.",
        "처치법": """
        1.  **환자 안정시키기🧘‍♀️**: 환자를 평평한 곳에 눕히고, 꽉 조이는 옷을 느슨하게 해주어 **심신의 안정을 취하도록 돕습니다.** "괜찮아요, 천천히 숨 쉬어요" 등 침착하게 안심시키는 말을 건넵니다.
        2.  **천천히 심호흡 유도😮‍💨**: **코로 숨을 들이쉬고 입을 오므려 천천히 내쉬도록 유도**합니다. 본인의 호흡에 집중하도록 돕는 것이 중요합니다.
        3.  **호흡 패턴 조절**: 환자가 흥분해 있다면 함께 숨을 쉬며 호흡 속도를 맞추는 것을 도와줍니다. ❌ **종이봉투를 이용한 재호흡법은 산소 부족의 위험이 있으므로 의료진의 지도 없이는 권장하지 않습니다.**
        4.  **🚨 병원 방문**: 증상이 호전되지 않거나 다른 질환으로 인한 것이 의심될 경우, 즉시 의료기관을 방문해야 합니다.
        """,
        "키워드": ["숨", "답답함", "어지럼증", "손발 저림", "불안", "스트레스", "과호흡", "숨차", "가슴 아픔", "떨림", "숨쉬기"]
    },
    "근육 경련": {
        "emoji": "🦵",
        "제목": "근육 경련 (쥐남) 응급 처치",
        "설명": "갑작스럽게 근육이 수축하면서 극심한 통증을 동반하는 현상입니다. 과도한 운동, 탈수, 전해질 불균형, 추운 날씨 등이 원인이 될 수 있습니다.",
        "처치법": """
        1.  **스트레칭🤸**: 경련이 일어난 근육을 **천천히 늘려주는 스트레칭**을 합니다. 예를 들어 종아리에 쥐가 났다면 발목을 발등 쪽으로 꺾어 종아리 근육을 늘려줍니다.
        2.  **마사지💆**: 경련이 일어난 부위를 부드럽게 주무르거나 마사지하여 근육을 이완시켜줍니다.
        3.  **따뜻하게🔥**: 따뜻한 물로 샤워를 하거나 온찜질을 해주면 혈액순환을 돕고 근육 이완에 도움이 됩니다.
        4.  **수분 및 전해질 보충💧**: 물이나 이온음료 등을 마셔 탈수와 전해질 불균형을 해결해 줍니다.
        5.  **휴식🛌**: 충분히 휴식을 취하고, 회복될 때까지 해당 근육에 무리를 주지 않도록 합니다.
        6.  **🚨 병원 방문**: 경련이 반복되거나 너무 자주 발생하고, 통증이 심해 일상생활에 지장을 준다면 병원에 방문하여 정확한 원인을 진단받는 것이 좋습니다.
        """,
        "키워드": ["쥐남", "쥐", "다리", "종아리", "팔", "경련", "통증", "근육", "cramping"]
    },
    "천식 발작": {
        "emoji": "喘",
        "제목": "천식 발작 응급 처치",
        "설명": "기관지가 좁아져 숨쉬기 어렵고 쌕쌕거리는 소리(천명)가 나며 기침과 가슴 답답함이 동반되는 상태입니다. 심하면 생명이 위험할 수 있습니다.",
        "처치법": """
        1.  **침착하게 행동**: 환자를 안정시키고, 조용하고 편안한 자세(앉아서 상체를 약간 앞으로 숙인 자세)를 취하게 합니다.
        2.  **기관지확장제 흡입**: 환자가 평소에 사용하는 **속효성 기관지확장제(예: 벤토린)를 즉시 흡입**하도록 돕습니다. 1회 흡입 후 1분 간격으로 총 2~3회까지 반복 흡입할 수 있습니다.
        3.  **호전되지 않으면 119 신고**: 기관지확장제를 흡입한 후에도 증상이 호전되지 않거나, 오히려 악화될 경우 **지체 없이 119에 신고**하고 병원으로 이송합니다.
        4.  **옷 느슨하게 하기**: 목과 가슴을 조이는 옷을 느슨하게 해주어 편안하게 숨 쉴 수 있도록 돕습니다.
        """,
        "키워드": ["숨쉬기 어려움", "숨참", "천명", "쌕쌕", "기침", "기관지", "호흡 곤란", "천식"]
    },
    "알레르기 반응 (아나필락시스)": {
        "emoji": "🐝",
        "제목": "알레르기 반응 (아나필락시스) 응급 처치",
        "설명": "특정 물질(음식, 벌 독, 약물 등)에 대한 신체의 **심각하고 전신적인 알레르기 반응**으로, 수분 내에 생명이 위험할 수 있습니다. 전신 가려움, 두드러기, 얼굴 부기, 호흡 곤란, 혈압 저하 등의 증상이 빠르게 나타납니다.",
        "처치법": """
        1.  **즉시 119 신고**: **아나필락시스가 의심되면 지체 없이 119에 신고**합니다.
        2.  **에피네프린 자가주사 (가능 시)**: 환자 또는 보호자가 **에피네프린 자가주사기(예: 젭펜, 에피네프린 오토인젝터)를 가지고 있다면 즉시 허벅지 바깥쪽에 주사**하도록 돕습니다. 주사 후에도 병원에 방문해야 합니다.
        3.  **환자 자세**: 의식이 있다면 다리를 높여주고 눕히거나, 호흡 곤란이 있다면 편하게 앉히는 것이 좋습니다. 구토 시 고개를 옆으로 돌려 기도를 확보합니다.
        4.  **기도 확보 및 호흡 확인**: 호흡이 멈추거나 약해지면 심폐소생술(CPR)을 준비합니다.
        5.  **보온**: 환자에게 담요 등을 덮어 체온을 유지합니다.
        """,
        "키워드": ["두드러기", "가려움", "붓기", "부음", "호흡 곤란", "목 부음", "혈압 저하", "쇼크", "벌레", "음식 알레르기", "아나필락시스"]
    },
    "감기": {
        "emoji": "🤧",
        "제목": "감기 증상 완화 및 관리",
        "설명": "바이러스 감염으로 인한 상기도(코, 목)의 염증으로, 콧물, 코막힘, 재채기, 기침, 목 통증, 미열 등의 증상을 보입니다.",
        "처치법": """
        1.  **충분한 휴식**: 몸의 면역력이 회복될 수 있도록 충분히 쉬는 것이 중요합니다.
        2.  **수분 섭취**: 따뜻한 물이나 차를 충분히 마셔 목의 건조함을 줄이고 탈수를 예방합니다.
        3.  **증상 완화**: 해열진통제, 콧물약, 기침약 등 일반의약품으로 증상을 완화할 수 있습니다.
        4.  **가습**: 실내 습도를 적절하게 유지하여 목과 코의 건조함을 줄입니다.
        5.  **위생 관리**: 손을 자주 씻고 마스크를 착용하여 타인에게 바이러스를 전파하는 것을 막습니다.
        6.  **🚨 병원 방문**: 고열이 지속되거나, 심한 기침/가래, 호흡 곤란, 근육통, 두통 등 증상이 심해지거나 오래 지속될 경우 병원을 방문하여 진찰받는 것이 좋습니다.
        """,
        "키워드": ["콧물", "기침", "목 아픔", "재채기", "코막힘", "미열", "감기", "오한"]
    },
    "독감": {
        "emoji": "😷",
        "제목": "독감 증상 관리 및 예방",
        "설명": "인플루엔자 바이러스에 의한 급성 호흡기 질환입니다. 감기보다 훨씬 심한 증상(고열, 근육통, 오한, 심한 피로감)을 동반하며 합병증 위험이 높습니다.",
        "처치법": """
        1.  **즉시 병원 방문**: 독감 증상(고열, 심한 근육통, 오한 등)이 의심되면 즉시 병원을 방문하여 진단받고, 필요 시 항바이러스제 처방을 받습니다.
        2.  **충분한 휴식과 수분 섭취**: 해열제를 복용하며 열을 내리고, 충분한 휴식을 취하며 물을 많이 마십니다.
        3.  **격리**: 다른 사람에게 전파되지 않도록 외출을 자제하고, 마스크를 착용하며 손을 자주 씻습니다.
        4.  **🚨 합병증 주의**: 고열이 심하거나, 호흡 곤란, 가슴 통증, 의식 변화 등 이상 증상이 나타나면 즉시 의료기관을 방문해야 합니다.
        5.  **예방**: 매년 독감 예방 접종을 하는 것이 가장 효과적인 예방법입니다.
        """,
        "키워드": ["인플루엔자", "고열", "근육통", "오한", "피로감", "독감", "발열"]
    },
    "두통": {
        "emoji": "🤕",
        "제목": "두통 증상 완화 및 관리",
        "설명": "머리가 아픈 증상으로, 긴장성 두통, 편두통 등 다양한 원인이 있습니다. 대부분은 일시적이지만, 심각한 질환의 신호일 수도 있습니다.",
        "처치법": """
        1.  **휴식 및 안정**: 조용하고 어두운 곳에서 휴식을 취하고 편안한 자세를 취합니다.
        2.  **냉찜질**: 이마나 관자놀이에 찬 물수건이나 얼음팩을 대주면 통증 완화에 도움이 될 수 있습니다.
        3.  **진통제 복용**: 약국에서 구매 가능한 아세트아미노펜이나 이부프로펜 계열의 진통제를 복용하여 통증을 줄입니다.
        4.  **수분 섭취**: 탈수로 인한 두통일 수 있으므로 물을 충분히 마십니다.
        5.  **카페인 (편두통의 경우)**: 소량의 카페인 섭취가 편두통 완화에 도움이 될 수 있으나, 과도한 섭취는 오히려 두통을 유발할 수 있습니다.
        6.  **🚨 의료기관 방문**: 갑자기 발생한 극심한 두통(생애 최악의 두통), 의식 변화, 마비 증상, 구토, 고열을 동반한 두통 등 평소와 다른 심각한 두통이거나 통증이 계속 악화될 경우 **즉시 병원 진료**를 받아야 합니다.
        """,
        "키워드": ["머리 아픔", "지끈거림", "편두통", "머리 통증", "두통"]
    },
    "치통": {
        "emoji": "🦷",
        "제목": "치통 응급 처치 및 관리",
        "설명": "이빨이나 잇몸에서 발생하는 통증으로, 충치, 잇몸 염증, 치수염 등 다양한 원인이 있습니다. 통증이 매우 심할 수 있습니다.",
        "처치법": """
        1.  **구강 세척**: 미지근한 소금물로 입안을 가볍게 헹궈 음식물 찌꺼기를 제거합니다.
        2.  **냉찜질**: 통증 부위의 뺨 바깥쪽에 얼음 주머니를 대주면 부기를 가라앉히고 통증을 완화할 수 있습니다.
        3.  **진통제 복용**: 시판 진통제를 복용하여 통증을 일시적으로 줄입니다.
        4.  **잇몸 압박**: 통증 부위의 잇몸을 깨끗한 손가락이나 거즈로 가볍게 압박하여 통증을 완화해봅니다.
        5.  **식사 시 주의**: 통증이 있는 부위로 음식물을 씹는 것을 피하고, 뜨겁거나 찬 음식은 자제합니다.
        6.  **🚨 치과 방문**: 통증이 심하거나 지속될 경우, 또는 부기와 발열이 동반될 경우 **즉시 치과에 방문**하여 원인을 진단하고 치료를 받아야 합니다.
        """,
        "키워드": ["이빨 아픔", "잇몸", "충치", "이앓이", "치아", "치통"]
    },
    "복통": {
        "emoji": "🤢", # 이모지 수정 (구토)
        "제목": "복통 (배 아픔) 응급 처치",
        "설명": "배에서 발생하는 통증으로, 소화 불량, 변비, 설사 등 경미한 원인부터 맹장염, 장염 등 심각한 원인까지 다양합니다.",
        "처치법": """
        1.  **휴식 및 안정**: 편안한 자세로 누워 충분히 휴식을 취합니다. 배를 따뜻하게 해주는 것도 도움이 됩니다.
        2.  **수분 섭취**: 탈수를 예방하기 위해 따뜻한 물이나 끓인 보리차 등을 소량씩 자주 마십니다.
        3.  **음식 섭취 조절**: 자극적이거나 소화하기 어려운 음식은 피하고, 증상이 호전될 때까지 금식하거나 부드러운 유동식을 섭취합니다.
        4.  **소화제/진경제 복용**: 소화 불량이나 가벼운 경련성 복통에는 시판 약물을 복용할 수 있습니다.
        5.  **🚨 의료기관 방문**: **갑자기 발생한 극심한 복통, 고열, 구토, 혈변/흑변, 복부 팽만, 복부 눌렀을 때 심한 통증** 등 심각한 증상이 동반되거나 통증이 계속 악화될 경우 **즉시 병원 진료**를 받아야 합니다. 특히 오른쪽 아랫배 통증은 맹장염 가능성도 있으니 주의합니다.
        """,
        "키워드": ["배 아픔", "속 아픔", "소화불량", "설사", "변비", "복부 통증", "배", "복통", "장염"]
    },
    "인후통": {
        "emoji": "🗣️",
        "제목": "인후통 (목 통증) 증상 완화 및 관리",
        "설명": "목구멍(인후)의 통증으로, 감기, 편도염, 목 사용 과다 등 다양한 원인에 의해 발생합니다.",
        "처치법": """
        1.  **충분한 휴식**: 목을 사용하지 않고 충분히 쉬어줍니다.
        2.  **따뜻한 물/차 섭취**: 따뜻한 물, 허브차, 꿀물 등을 마셔 목의 건조함을 줄이고 통증을 완화합니다.
        3.  **가습**: 실내 습도를 적절히 유지하여 목을 촉촉하게 합니다.
        4.  **목 가글**: 미지근한 소금물이나 구강 청결제로 목을 가글하면 통증 완화에 도움이 됩니다.
        5.  **목캔디/사탕**: 침 분비를 촉진하여 목의 건조함을 줄이고 통증을 일시적으로 완화합니다.
        6.  **소염진통제 복용**: 시판 소염진통제나 인후 스프레이 등을 사용하여 통증과 염증을 줄입니다.
        7.  **🚨 병원 방문**: 통증이 심하거나 고열, 음식물 삼키기 어려움, 목 부기, 호흡 곤란 등 심각한 증상이 동반되거나 증상이 오래 지속될 경우 **병원 진료**를 받아야 합니다.
        """,
        "키워드": ["목 아픔", "목 통증", "목 따가움", "침 삼키기 어려움", "인후염", "인후통", "편도선"]
    },
    "결핵": {
        "emoji": "🦠",
        "제목": "결핵 의심 증상 및 대처",
        "설명": "결핵균에 의해 발생하는 만성 감염성 질환으로, 주로 폐에 발생합니다. 초기에는 증상이 없거나 감기와 비슷하게 나타나 진단이 늦어지는 경우가 많습니다. 2주 이상 지속되는 기침, 가래, 발열, 야간 발한(밤에 땀나는 것), 체중 감소 등이 주요 증상입니다.",
        "처치법": """
        1.  **🚨 즉시 병원 방문**: 2주 이상 지속되는 기침, 가래, 미열, 체중 감소, 야간 발한 등 **결핵이 의심되는 증상이 있다면 지체 없이 가까운 의료기관(내과, 호흡기내과 등)에 방문하여 진료를 받아야 합니다.**
        2.  **마스크 착용**: 의료기관 방문 시에는 마스크를 착용하여 타인에게 균을 전파하는 것을 막습니다.
        3.  **손 위생**: 손을 자주 씻는 등 개인 위생을 철저히 합니다.
        4.  **적극적인 검사와 치료**: 결핵은 진단 시 완치가 가능한 질환이므로, 의심되면 반드시 검사를 받고 치료 지침을 따르는 것이 중요합니다. **응급처치 대상이 아닌 진단과 치료가 필요한 질환**입니다.
        """,
        "키워드": ["폐", "만성 기침", "기침", "가래", "야간 발한", "체중 감소", "전염", "호흡기", "결핵"]
    }
}

# --- 사이드바 및 메인 타이틀 ---
st.sidebar.title("🩺 응급 처치 종합 가이드")
st.sidebar.markdown("일상에서 겪을 수 있는 다양한 응급 상황에 현명하게 대처하세요!")

# 기존 search_query 입력 필드 제거

# 주요 상처 유형 선택을 위한 리스트 생성 (이모티콘 포함)
first_aid_options = ["소개"] + [f"{data['emoji']} {name}" for name, data in first_aid_data.items()]
selected_option = st.sidebar.selectbox(
    "🌟 주요 증상/사고 유형 선택", # 검색창 제거로 인해 문구 변경
    first_aid_options,
    index=0 # '소개'가 기본 선택
)

# 실제 데이터 딕셔너리의 키 값을 얻기 위해 선택된 옵션 파싱 (이모티콘 제거)
if selected_option != "소개":
    # 이모티콘 다음 첫 번째 공백 이후의 문자열을 key로 사용
    selected_type = selected_option.split(' ', 1)[1]
else:
    selected_type = "소개"


st.title("🚑 일상생활 응급 처치 안내 웹사이트")
st.markdown("---")

# --- 내용 표시 로직 ---
# search_query 관련 조건문 제거, selected_type 기준으로만 로직 진행
if selected_type == "소개":
    st.subheader("안녕하세요, 스마트 응급 처치 가이드입니다! 👋")
    
    col1, col2 = st.columns([1, 1])
    
    with col1:
        st.markdown("### 📚 이용 방법")
        st.markdown("""
        1.  **🌟 주요 증상/사고 유형 선택**: 좌측 사이드바에서 이모티콘과 함께 제시된 다양한 증상 및 사고 유형을 클릭하여 해당 처치법을 바로 확인하세요.
        
        <br>
        *   이제 이 웹사이트는 검색 기능 없이, **사이드바의 분류를 통해 원하는 정보를 찾아볼 수 있도록** 설계되었습니다.
        """)
        
    with col2:
        st.markdown("### ⚠️ 중요 알림")
        st.info("""
        본 웹사이트에서 제공되는 모든 정보는 **일반적인 초기 응급 처치 안내**입니다.

        상처의 정도가 심하거나, 출혈이 멈추지 않거나, 통증이 극심한 경우 등 **전문가의 진단과 치료가 반드시 필요한 상황에서는 지체 없이 의료기관에 방문**해주세요. 필요 시 **119에 신고**하세요.
        """, icon="🚨") # info 박스에 아이콘 추가

    st.markdown("---")

else: # 특정 유형이 선택되었을 때
    info = first_aid_data[selected_type]
    with st.expander(f"{info['emoji']} **{info['제목']}**", expanded=True): # 선택된 항목은 기본적으로 펼쳐서 보여줍니다.
        st.subheader("📚 상황 설명")
        st.info(info['설명']) # 설명 부분을 info 박스로 강조
        st.markdown("---")
        st.subheader("💡 응급 처치법")
        st.markdown(info['처치법'])
    st.markdown("---") # 항목 아래 구분선 추가

# CSS 스타일 (선택 사항)
st.markdown("""
<style>
    /* 전체 레이아웃 패딩 */
    .reportview-container .main .block-container{
        padding-top: 2rem;
        padding-right: 5rem;
        padding-left: 5rem;
        padding-bottom: 2rem;
    }
    /* 사이드바 패딩 */
    .css-1d391kg {
        padding-top: 3.5rem;
        padding-right: 1rem;
        padding-left: 1rem;
        padding-bottom: 3.5rem;
    }
    /* Expander 제목 스타일 (클릭 가능 영역) */
    .stExpander > div > div > .streamlit-expanderHeader {
        font-size: 1.25rem;
        font-weight: bold;
        color: #2F80ED; /* 밝은 파랑 */
    }
    /* 굵은 글씨 강조 */
    strong {
        color: #e00; /* 빨간색으로 변경 */
    }
</style>
""", unsafe_allow_html=True)

# 푸터
st.sidebar.markdown("---")
st.sidebar.info("본 웹사이트의 내용은 정보 제공을 목적으로 하며, 전문적인 의료 조언을 대체할 수 없습니다. 🚨")
