import streamlit as st

# --- 1. MBTI 유형별 직업 추천 데이터 정의 ---
# 이 부분은 실제 데이터베이스나 더 정교한 로직으로 확장될 수 있습니다.
# 여기서는 예시로 몇 가지 직업을 매핑해두었어요!
mbti_career_map = {
    "ISTJ": ["행정직", "회계사", "공무원", "데이터 분석가", "경찰관"],
    "ISFJ": ["간호사", "유치원 교사", "사회복지사", "사서", "행정직원"],
    "INFJ": ["상담사", "작가", "심리학자", "예술가", "교사"],
    "INTJ": ["과학자", "연구원", "시스템 분석가", "전략 기획가", "엔지니어"],
    "ISTP": ["엔지니어", "정비사", "스포츠 선수", "기술자", "경찰/소방관"],
    "ISFP": ["예술가", "디자이너", "음악가", "요리사", "수의사"],
    "INFP": ["작가", "예술가", "상담사", "심리학자", "사회 운동가"],
    "INTP": ["과학자", "프로그래머", "교수", "발명가", "철학자"],
    "ESTP": ["영업", "기업가", "응급 구조사", "경찰관", "군인"],
    "ESFP": ["연예인", "활동가", "파티 플래너", "어린이집 교사", "스포츠 코치"],
    "ENFP": ["상담사", "마케터", "배우", "작가", "컨설턴트"],
    "ENTP": ["기업가", "변호사", "컨설턴트", "발명가", "대학교수"],
    "ESTJ": ["경영자", "관리자", "공무원", "영업 관리", "군 장교"],
    "ESFJ": ["교사", "간호사", "사회복지사", "HR 전문가", "종교 지도자"],
    "ENFJ": ["교사", "상담사", "리더", "인사 담당자", "코치"],
    "ENTJ": ["경영 컨설턴트", "기업가", "변호사", "정치가", "CEO"],
}

# --- 2. Streamlit 웹 앱 레이아웃 설정 ---

st.set_page_config(
    page_title="MBTI 기반 맞춤형 진로 추천",
    page_icon="💡",
    layout="centered"
)

st.title("💡 MBTI 기반 맞춤형 진로 추천")
st.write("나의 MBTI 유형을 선택하고, 나에게 맞는 진로를 탐색해보세요!")
st.markdown("---")

# MBTI 유형 드롭다운 목록
mbti_types = sorted(list(mbti_career_map.keys())) # MBTI 유형을 알파벳 순으로 정렬

# 사용자에게 MBTI 유형 선택받기
selected_mbti = st.selectbox("💖 나의 MBTI 유형은?", mbti_types, index=None, placeholder="MBTI를 선택해주세요.")

st.markdown("---")

# '직업 추천 받기' 버튼
if st.button("✨ 직업 추천 받기", use_container_width=True):
    if selected_mbti:
        recommended_careers = mbti_career_map.get(selected_mbti, ["추천할 직업 정보를 찾을 수 없습니다."])
        
        st.subheader(f"✅ {selected_mbti} 유형을 위한 추천 직업:")
        st.success(f"**{selected_mbti}** 유형의 주요 특징은 다음과 같습니다.")
        
        # MBTI 특징에 대한 간략한 설명 추가 (예시)
        mbti_descriptions = {
            "ISTJ": "논리적이고 현실적이며 책임감이 강하고 신중합니다.",
            "ISFJ": "헌신적이고 따뜻하며 책임감이 강하고 성실합니다.",
            "INFJ": "통찰력이 있고 영감을 주는 이상주의자이며 조용하고 신비로운 면이 있습니다.",
            "INTJ": "독립적이고 전략적이며 분석적인 사고를 하는 비전가입니다.",
            "ISTP": "논리적이고 현실적이며 호기심이 많고 문제 해결에 능합니다.",
            "ISFP": "겸손하고 예술적이며 호기심이 많고 따뜻한 마음을 가졌습니다.",
            "INFP": "이상주의적이고 창의적이며 공감능력이 뛰어나고 진정성을 추구합니다.",
            "INTP": "논리적이고 분석적이며 지적 호기심이 많고 비판적 사고를 합니다.",
            "ESTP": "활동적이고 현실적이며 유연하고 위기 대처에 능합니다.",
            "ESFP": "활동적이고 사교적이며 낙천적이고 즐거움을 추구합니다.",
            "ENFP": "열정적이고 창의적이며 사교적이고 영감이 넘칩니다.",
            "ENTP": "논리적이고 독창적이며 토론을 즐기고 새로운 아이디어에 흥미를 느낍니다.",
            "ESTJ": "실용적이고 현실적이며 체계적이고 리더십이 강합니다.",
            "ESFJ": "사교적이고 친절하며 협조적이고 타인의 필요에 민감합니다.",
            "ENFJ": "열정적이고 카리스마 있으며 타인을 돕고 이끄는 데 능숙합니다.",
            "ENTJ": "결단력 있고 논리적이며 목표 지향적이고 타고난 리더입니다."
        }
        st.info(mbti_descriptions.get(selected_mbti, "이 유형에 대한 설명은 아직 준비되지 않았습니다."))
        
        # 추천 직업 리스트 출력
        for career in recommended_careers:
            st.write(f"- **{career}**")
    else:
        st.warning("앗! MBTI 유형을 먼저 선택해주세요.")

st.markdown("---")
st.caption("📝 본 추천은 일반적인 MBTI 유형별 특성과 직업 매칭을 기반으로 한 예시이며, 개인의 성향, 흥미, 역량에 따라 실제 진로는 크게 달라질 수 있습니다. 진로 탐색에 참고 자료로만 활용해주세요.")
